<!DOCTYPE html>
<html>
  <head>
    <title>navigator.connection.type Example</title>
     
	  <script src="offline.min.js"></script>
	  
	   <link rel="stylesheet" href="offline-theme-hubspot.css" />
 
<link rel="stylesheet" href="offline-language-english.css" />
	  
	  
<script type="text/javascript" charset="utf-8">

	
	
    // Wait for device API libraries to load
    //
	
	 
	
 
    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // device APIs are available
    //
    function onDeviceReady() {
     
 
       var networkState = checkConnection();
   /* load local files if there is not network connection */
                  if (networkState == Connection.NONE) {
                      window.location="error.html";
                  } else {
			  //alert("i got here");
             var run = function(){
  var req = new XMLHttpRequest();
  req.timeout = 5000;
  req.open('GET', 'https://google.com/', true); 
  var value = JSON.parse(this.responseText);
		     
	alert(value+"callback");	     
		     
		     
  req.onload = function () {
        var value = JSON.parse(this.responseText);
		
		
        callback(value);
		alert(value);
    };
  
  req.send();
  
  
  
 alert("i got here - " + req.status);
 
 
 
}

setInterval(run, 3000);
                  }
    }

        function checkConnection() {
            var networkState = navigator.connection.type;

            var states = {};
            states[Connection.UNKNOWN]  = 'Unknown connection';
            states[Connection.ETHERNET] = 'Ethernet connection';
            states[Connection.WIFI]     = 'WiFi connection';
            states[Connection.CELL_2G]  = 'Cell 2G connection';
            states[Connection.CELL_3G]  = 'Cell 3G connection';
            states[Connection.CELL_4G]  = 'Cell 4G connection';
            states[Connection.CELL]     = 'Cell generic connection';
            states[Connection.NONE]     = 'No network connection';
  return networkState;
            //alert('Connection type: ' + states[networkState]);
        }

    </script>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
     <meta http-equiv="refresh" content="2;URL='https://shiftclocker.com/test2/dcare/'" />
  </head>
   <body>
 
      
  </body>
</html>
