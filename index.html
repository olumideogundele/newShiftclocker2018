<!DOCTYPE html>
<html>
  <head>
    <title>navigator.connection.type Example</title>

    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8">
    // Wait for device API libraries to load
    //
    function onLoad() {
        document.addEventListener("online", onOnline, false);
        document.addEventListener("deviceready", onDeviceReady, false);
    }
 function onOnline() {
   alert("I am online now");
    }

    // Wait for device API libraries to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // device APIs are available
    //
    function onDeviceReady() {
        //checkConnection();
      alert("got here");
     navigator.network.isReachable("google.com", reachableCallback, {});
    }

        function checkConnection() {
           
		    var networkState = reachability.code || reachability;
  var states = {};
  states[NetworkStatus.NOT_REACHABLE]                      = 'No network connection';
  states[NetworkStatus.REACHABLE_VIA_CARRIER_DATA_NETWORK] = 'Carrier data connection';
  states[NetworkStatus.REACHABLE_VIA_WIFI_NETWORK]         = 'WiFi connection';
  if (networkState != 0) online = true;
		   
		   
        }
		
		var online = navigator.onLine || false;
$(document).ready(function() { 
  $(document).bind('deviceready', function(){
    onDeviceReady()
  })
  // Your main code
  alert("Your main code");
})
 
if(online) {
  // make a request
  
  alert("make a request");
} else {
  // load from localStorage
  alert("load from localStorage");
}

    </script>
  </head>
   <body onload="onLoad()">
 
     <iframe src="https://test2.shiftclocker.com/dcare" id="myIframe" style="height:300%;width:100%; border:none; left: 0; top: 0;"></iframe> 
  </body>
</html>
